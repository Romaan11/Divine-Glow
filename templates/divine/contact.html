{% extends 'divine/base.html' %}

{% block content %}
<!-- Header Start -->
<div class="container-fluid bg-breadcrumb py-5">
    <div class="container text-center py-5">
        <h1 class="text-white display-3 mb-4">Contact Us</h1>
        <ol class="breadcrumb justify-content-center mb-0">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item active text-white">Contact</li>
        </ol>    
    </div>
</div>
<!-- Header End -->


<!-- Contact Start -->
<div class="container-fluid contact-page contact py-5">
    <div class="container pt-5">
        <div class="row g-4 align-items-center">
            <div class="col-lg-6">
                <div class="text-center">
                    <h1 class="display-3 text-white mb-4">Contact Us</h1>
                    <p class="text-white fs-4"><b style="font-size: 28px;">We’d love to hear from you.</b><br> Get in touch with us and we’ll respond as soon as possible.</p>
                </div>
            </div>

            <!-- Popup Message -->
            <div id="popupMessage" class="popup-message">
                <div id="popupContent" class="popup-content"></div>
            </div>

            <div class="col-lg-6">
                <div class="contact-form rounded p-5">
                    <form method="POST" id="contactForm" novalidate autocomplete="off">
                        {% csrf_token %}
                        <h1 class="display-6 mb-4">Do You have Any Questions?</h1>
                        <div class="row gx-4 gy-3">
                            <div class="col-xl-6" style="position: relative;">
                                <input type="text" name="name" id="name" value="{{ form.name.value|default:'' }}" class="form-control bg-white border-0 py-3 px-4" placeholder="Your Full Name" autocomplete="off">
                            </div>
                            <div class="col-xl-6" style="position: relative;">
                                <input type="email" name="email" id="email" value="{{ form.email.value|default:'' }}" class="form-control bg-white border-0 py-3 px-4 {% if form.email.errors %}is-invalid{% endif %}" placeholder="Your Email" autocomplete="off">
                                {% if form.email.errors %}
                                    <div class="error-popup">
                                        <span class="error-text">
                                            {% for error in form.email.errors %}
                                                <p>{{ error }}</p>
                                            {% endfor %}
                                        </span>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="col-xl-6" style="position: relative;">
                                <input type="tel" name="phone" id="phone" value="{{ form.phone.value|default:'' }}" class="form-control bg-white border-0 py-3 px-4 {% if form.phone.errors %}is-invalid{% endif %}" placeholder="Your Phone No."  autocomplete="off" oninput="this.value = this.value.replace(/[^0-9]/g, '')" pattern="\d{10}" maxlength="10" required>
                                {% if form.phone.errors %}
                                    <div class="error-popup">
                                        <span class="error-text">
                                            {% for error in form.phone.errors %}
                                                <p>{{ error }}</p>
                                            {% endfor %}
                                        </span>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="col-xl-6" style="position: relative;">
                                <input type="text" name="subject" id="subject" value="{{ form.subject.value|default:'' }}" class="form-control bg-white border-0 py-3 px-4" placeholder="Subject" autocomplete="off">
                            </div>
                            <div class="col-12" style="position: relative;">
                                <textarea name="message" id="message" class="form-control bg-white border-0 py-3 px-4" rows="4" placeholder="Your Message" autocomplete="off">{{ form.message.value|default:'' }}</textarea>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-primary btn-primary-outline-0 w-100 py-3 px-5" type="submit">Submit</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="container-fluid pb-5">
                <div class="container py-5">
                    <div class="row g-4 align-items-center">
                        <div class="col-12">
                            <div class="row g-4">
                                <div class="col-lg-4">
                                    <div class="d-inline-flex bg-light w-100 border border-primary p-4 rounded">
                                        <i class="fas fa-map-marker-alt fa-2x text-primary me-4"></i>
                                        <div>
                                            <h4>Address</h4>
                                            <p class="mb-0">Kamalbinayak, Bhaktapur, Nepal</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="d-inline-flex bg-light w-100 border border-primary p-4 rounded">
                                        <i class="fas fa-envelope fa-2x text-primary me-4"></i>
                                        <div>
                                            <h4>Mail Us</h4>
                                            <p class="mb-0">muskanpkb2013@gmail.com</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="d-inline-flex bg-light w-100 border border-primary p-4 rounded">
                                        <i class="fa fa-phone-alt fa-2x text-primary me-4"></i>
                                        <div>
                                            <h4>Phone No.</h4>
                                            <p class="mb-0">9841114068</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="rounded">
                                <iframe
                                    class="rounded-top w-100"
                                    style="height: 450px; margin-bottom: -6px; border:0;"
                                    src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d120.48!2d85.43686317245935!3d27.67520006901661!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f18!5e1!3m2!1sen!2snp"
                                    allowfullscreen
                                    loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade">
                                </iframe>
                            </div>
                            <div class=" text-center p-4 rounded-bottom" style="background-color: #FF99BB;">
                                <h4 class="text-white fw-bold">Follow Us</h4>
                                <div class="d-flex align-items-center justify-content-center">
                                    <a href="#" class="btn btn-light btn-light-outline-0 btn-square rounded-circle me-3"><i class="fab fa-facebook-f"></i></a>
                                    <a href="#" class="btn btn-light btn-light-outline-0 btn-square rounded-circle me-3"><i class="fab fa-instagram"></i></a>
                                    <a href="#" class="btn btn-light btn-light-outline-0 btn-square rounded-circle me-3"><i class="fab fa-tiktok"></i></a>
                                </div>   
                            </div>
                        </div>;
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- Contact End -->

{% if messages %}
    {% for message in messages %}
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                var popupMessage = document.getElementById('popupMessage');
                var popupContent = document.getElementById('popupContent');
                popupContent.textContent = "{{ message }}";

                // Set the background color based on message type
                if ("{{ message.tags }}" === "success") {
                    popupMessage.style.backgroundColor = "green";
                } else if ("{{ message.tags }}" === "error") {
                    popupMessage.style.backgroundColor = "red";
                }

                popupMessage.style.display = "block";
                setTimeout(function() {
                    popupMessage.style.display = "none";
                }, 4000);
            });
        </script>
    {% endfor %}
{% endif %}


{% endblock content %}
